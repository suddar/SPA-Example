<script>
  import { onMount } from "svelte";
  import EditResource from "../../components/edit-resource.svelte";
  import ResourceCard from "../../components/resource-card.svelte";

  var hostName = "https://localhost:6060";
  let images = [];

  onMount(async () => {
    const response = await fetch(`${hostName}/api/Resources/GetResources`);
    images = await response.json();
    console.log(images[0]);
  });

  var showEdit = false;
  var currentImageData = {};
</script>

{#each images as imageData}
  <ResourceCard
    bind:model={imageData.thumbnai}
    onEdit={() => {
      showEdit = true;
      currentImageData = imageData;
    }}
  />
{/each}

<EditResource bind:isShow={showEdit} resourceName={currentImageData.name} />

<!-- {
  "fileName": null,
  "filePath": "/images/b69127a3-d0ed-4344-9978-55a6189e3ccf.jpg",
  "contentType": "image/jpeg",
  "thumbnai": "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",
  "data": null,
  "id": 8,
  "name": "1.jpg"
} -->